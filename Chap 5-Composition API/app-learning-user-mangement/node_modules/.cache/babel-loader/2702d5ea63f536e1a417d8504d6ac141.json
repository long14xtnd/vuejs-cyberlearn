{"ast":null,"code":"import { reactive, toRef } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { createNamespacedHelpers } from \"vuex\";\nconst {\n  mapActions\n} = createNamespacedHelpers(\"user\");\nexport default {\n  props: {\n    userInfo: {\n      type: Object\n    }\n  },\n\n  setup(props) {\n    const store = useStore();\n    let user = reactive({\n      name: \"\",\n      age: 0,\n      avatar: \"\",\n      programmingLanguage: [],\n      gender: \"Nam\",\n      type: \"\",\n      description: \"\"\n    });\n    const userInfo = toRef(props);\n\n    if (userInfo.value) {\n      user = { ...userInfo\n      };\n    }\n\n    function handleAddUser() {\n      store.dispatch(\"addUserAction\");\n    }\n\n    function handleUpdateUser() {\n      store.dispatch(\"updateUserAction\");\n    }\n\n    function handleSubmit() {\n      if (userInfo.value) {\n        //update\n        handleUpdateUser(user);\n      } else {\n        //addUserAction\n        handleAddUser(user);\n      }\n    }\n\n    return {\n      user,\n      handleAddUser,\n      handleUpdateUser,\n      handleSubmit\n    };\n  } // data() {\n  //   return {\n  //     user: {\n  //       name: \"\",\n  //       age: 0,\n  //       avatar: \"\",\n  //       programmingLanguage: [],\n  //       gender: \"Nam\",\n  //       type: \"\",\n  //       description: \"\",\n  //     },\n  //   };\n  // },\n  // methods: {\n  //   handleSubmit() {\n  //     if (this.userInfo) {\n  //       //update\n  //       this.handleUpdateUser(this.user);\n  //     } else {\n  //       //addUserAction\n  //       this.handleAddUser(this.user);\n  //     }\n  //   },\n  //   ...mapActions({\n  //     handleAddUser: \"addUserAction\",\n  //     handleUpdateUser: \"updateUserAction\",\n  //   }),\n  //   // handleAddUser() {\n  //   //   // console.log(\"ok\")\n  //   //   console.log(this.name);\n  //   //   console.log(this.age);\n  //   //   console.log(this.avatar);\n  //   //   console.log(this.programmingLanguage);\n  //   //   console.log(this.gender);\n  //   //   console.log(this.type);\n  //   //   console.log(this.description);\n  //   // },\n  // },\n  // created() {\n  //   if (this.userInfo) {\n  //     this.user = { ...this.userInfo };\n  //   }\n  // },\n\n\n};","map":{"version":3,"mappings":"AA4KA,SAAUA,QAAV,EAAoBC,KAApB,QAAiC,KAAjC;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,SAASC,uBAAT,QAAwC,MAAxC;AACA,MAAM;AAAEC;AAAF,IAAiBD,uBAAuB,CAAC,MAAD,CAA9C;AAEA,eAAe;AACbE,OAAK,EAAE;AACLC,YAAQ,EAAE;AACRC,UAAI,EAAEC;AADE;AADL,GADM;;AAObC,OAAK,CAACJ,KAAD,EAAQ;AACX,UAAMK,KAAI,GAAIR,QAAQ,EAAtB;AACA,QAAIS,IAAG,GAAIX,QAAQ,CAAC;AAClBY,UAAI,EAAE,EADY;AAElBC,SAAG,EAAE,CAFa;AAGlBC,YAAM,EAAE,EAHU;AAIlBC,yBAAmB,EAAE,EAJH;AAKlBC,YAAM,EAAE,KALU;AAMlBT,UAAI,EAAE,EANY;AAOlBU,iBAAW,EAAE;AAPK,KAAD,CAAnB;AASA,UAAMX,QAAO,GAAIL,KAAK,CAACI,KAAD,CAAtB;;AACE,QAAIC,QAAQ,CAACY,KAAb,EAAoB;AACpBP,UAAG,GAAI,EAAE,GAAGL;AAAL,OAAP;AACF;;AACA,aAASa,aAAT,GAAyB;AACvBT,WAAK,CAACU,QAAN,CAAe,eAAf;AACF;;AACA,aAASC,gBAAT,GAA4B;AAC1BX,WAAK,CAACU,QAAN,CAAe,kBAAf;AACF;;AACA,aAASE,YAAT,GAAwB;AACtB,UAAIhB,QAAQ,CAACY,KAAb,EAAoB;AAClB;AACAG,wBAAgB,CAACV,IAAD,CAAhB;AACF,OAHA,MAGO;AACL;AACAQ,qBAAa,CAACR,IAAD,CAAb;AACF;AACF;;AACA,WAAO;AAAEA,UAAF;AAAQQ,mBAAR;AAAuBE,sBAAvB;AAAyCC;AAAzC,KAAP;AACD,GAtCY,CAuCb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAjFa,CAAf","names":["reactive","toRef","useStore","createNamespacedHelpers","mapActions","props","userInfo","type","Object","setup","store","user","name","age","avatar","programmingLanguage","gender","description","value","handleAddUser","dispatch","handleUpdateUser","handleSubmit"],"sourceRoot":"","sources":["C:\\Users\\long.dh\\Desktop\\learn-vue3\\vuejs-cyberlearn\\Chap 5-Composition API\\app-learning-user-mangement\\src\\components\\FormUser.vue"],"sourcesContent":["<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <form class=\"forms-sample\">\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"username\"\r\n            placeholder=\"Username\"\r\n            v-model=\"user.name\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"age\">Age</label>\r\n          <input\r\n            type=\"number\"\r\n            class=\"form-control\"\r\n            id=\"age\"\r\n            placeholder=\"Age\"\r\n            v-model.number=\"user.age\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"avatar\">Avatar</label>\r\n          <input\r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            id=\"avatar\"\r\n            placeholder=\"avatar\"\r\n            v-model=\"user.avatar\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"\">Programming Language : </label>\r\n          <div class=\"form-row-flex\">\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  value=\"JavaScript\"\r\n                  v-model=\"user.programmingLanguage\" />\r\n                JavaScript <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  value=\"Java\"\r\n                  v-model=\"user.programmingLanguage\" />\r\n                Java <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  value=\"PHP\"\r\n                  v-model=\"user.programmingLanguage\" />\r\n                PHP <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  value=\"Python\"\r\n                  v-model=\"user.programmingLanguage\" />\r\n                Python <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  value=\"C#\"\r\n                  v-model=\"user.programmingLanguage\" />\r\n                C# <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"form-check-input\"\r\n                  value=\" C/C++\"\r\n                  v-model=\"user.programmingLanguage\" />\r\n                C/C++ <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"\">Gender : </label>\r\n          <div class=\"d-flex\">\r\n            <div class=\"form-check mr-3\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"radio\"\r\n                  class=\"form-check-input\"\r\n                  name=\"gender\"\r\n                  id=\"gender\"\r\n                  value=\"Nam\"\r\n                  v-model=\"user.gender\" />\r\n                Nam <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check mr-3\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"radio\"\r\n                  class=\"form-check-input\"\r\n                  name=\"gender\"\r\n                  id=\"gender\"\r\n                  value=\"Nữ\"\r\n                  v-model=\"user.gender\" />\r\n                Nữ <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n            <div class=\"form-check mr-3\">\r\n              <label class=\"form-check-label\">\r\n                <input\r\n                  type=\"radio\"\r\n                  class=\"form-check-input\"\r\n                  name=\"gender\"\r\n                  id=\"gender\"\r\n                  value=\"Khác\"\r\n                  v-model=\"user.gender\" />\r\n                Khác <i class=\"input-helper\"></i\r\n              ></label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-sm-3 col-form-label\">Type User : </label>\r\n          <div class=\"col-sm-9\">\r\n            <select class=\"form-control\" v-model=\"user.type\">\r\n              <option value=\"ADMIN\">Admin</option>\r\n              <option value=\"CLIENT\">Client</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"description\">Description</label>\r\n          <textarea\r\n            class=\"form-control\"\r\n            id=\"description\"\r\n            rows=\"4\"\r\n            v-model=\"user.description\"\r\n          ></textarea>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn btn-gradient-primary mr-2\"\r\n          @click.prevent=\"handleSubmit()\"\r\n        >\r\n          Submit\r\n        </button>\r\n        <button class=\"btn btn-light\">Cancel</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {  reactive, toRef } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst { mapActions } = createNamespacedHelpers(\"user\");\r\n\r\nexport default {\r\n  props: {\r\n    userInfo: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const store = useStore();\r\n    let user = reactive({\r\n      name: \"\",\r\n      age: 0,\r\n      avatar: \"\",\r\n      programmingLanguage: [],\r\n      gender: \"Nam\",\r\n      type: \"\",\r\n      description: \"\",\r\n    });\r\n    const userInfo = toRef(props);\r\n      if (userInfo.value) {\r\n      user = { ...userInfo };\r\n    }\r\n    function handleAddUser() {\r\n      store.dispatch(\"addUserAction\");\r\n    }\r\n    function handleUpdateUser() {\r\n      store.dispatch(\"updateUserAction\");\r\n    }\r\n    function handleSubmit() {\r\n      if (userInfo.value) {\r\n        //update\r\n        handleUpdateUser(user);\r\n      } else {\r\n        //addUserAction\r\n        handleAddUser(user);\r\n      }\r\n    }\r\n    return { user, handleAddUser, handleUpdateUser, handleSubmit };\r\n  },\r\n  // data() {\r\n  //   return {\r\n  //     user: {\r\n  //       name: \"\",\r\n  //       age: 0,\r\n  //       avatar: \"\",\r\n  //       programmingLanguage: [],\r\n  //       gender: \"Nam\",\r\n  //       type: \"\",\r\n  //       description: \"\",\r\n  //     },\r\n  //   };\r\n  // },\r\n  // methods: {\r\n  //   handleSubmit() {\r\n  //     if (this.userInfo) {\r\n  //       //update\r\n  //       this.handleUpdateUser(this.user);\r\n  //     } else {\r\n  //       //addUserAction\r\n  //       this.handleAddUser(this.user);\r\n  //     }\r\n  //   },\r\n  //   ...mapActions({\r\n  //     handleAddUser: \"addUserAction\",\r\n  //     handleUpdateUser: \"updateUserAction\",\r\n  //   }),\r\n  //   // handleAddUser() {\r\n  //   //   // console.log(\"ok\")\r\n  //   //   console.log(this.name);\r\n  //   //   console.log(this.age);\r\n  //   //   console.log(this.avatar);\r\n  //   //   console.log(this.programmingLanguage);\r\n  //   //   console.log(this.gender);\r\n  //   //   console.log(this.type);\r\n  //   //   console.log(this.description);\r\n  //   // },\r\n  // },\r\n  // created() {\r\n  //   if (this.userInfo) {\r\n  //     this.user = { ...this.userInfo };\r\n  //   }\r\n  // },\r\n};\r\n</script>\r\n\r\n<style>\r\n.form-row-flex {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}